{"version":3,"sources":["webpack:///./src/demos/G6Try/G6DemoOne/index.js"],"names":["_react","__webpack_require__","G6","Util","data","nodes","id","x","y","shape","size","label","labelCfg","position","edges","target","source","G6DemoOne","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","_getPrototypeOf2","default","call","node","createRef","graph","Component","Graph","container","current","width","height","modes","type","formatText","model","console","log","drag","diy","edit","test","setMode","addBehaviors","direction","render","registerBehavior","getDefaultCfg","multiple","getEvents","node:click","canvas:click","onNodeClick","e","item","hasState","setItemState","removeNodesState","onCanvasClick","shouldUpdate","findAllByState","forEach","_react2","createElement","ref"],"mappings":"yaAAAA,EAAAC,EAAA,cACAA,EAAA,yDACAA,EAAA,MACaC,UAAGC,KAAhB,IAEMC,EAAO,CACTC,MAAO,CAAC,CACJC,GAAI,QACJC,EAAG,IACHC,EAAG,IACHC,MAAO,SACPC,KAAM,GACNC,MAAO,MACPC,SAAU,CACNC,SAAU,QAEf,CACCP,GAAI,QACJC,EAAG,IACHC,EAAG,IACHC,MAAO,SACPC,KAAM,GACNC,MAAO,MACPC,SAAU,CACNC,SAAU,SAGlBC,MAAO,CACH,CACIR,GAAI,QACJS,OAAQ,QACRC,OAAQ,QACRP,MAAO,iBASbQ,cACF,SAAAA,EAAYC,gGAAOC,CAAAC,KAAAH,GAAA,IAAAI,mKAAAC,CAAAF,MAAAH,EAAAM,YAAA,EAAAC,EAAAC,SAAAR,IAAAS,KAAAN,KACTF,IADS,OAEfG,EAAKM,MAAO,EAAA3B,EAAA4B,aACZP,EAAKQ,MAAQ,KAHER,iTADCS,4DAQhBV,KAAKS,MAAQ,IAAI3B,UAAG6B,MAAM,CACtBC,UAAWZ,KAAKO,KAAKM,QACrBC,MAAO,IACPC,OAAQ,IACRC,MAAO,CACHX,QAAS,CAAC,cAAe,CACrBY,KAAM,UACNC,WAFqB,SAEVC,GAEP,OADAC,QAAQC,IAAIF,GACLA,EAAMjC,GAAK,IAAMiC,EAAM5B,SAGtC+B,KAAM,CAAC,YAAa,eACpBC,IAAK,CAAC,eAAgB,YAAa,cAAe,eAClDC,KAAM,CAAC,YAAa,WACpBC,KAAM,CAAC,oBAGfzB,KAAKS,MAAMiB,QAAQ,QACnB1B,KAAKS,MAAMkB,aAAa,CACpBV,KAAM,cACNW,UAAW,KACZ,QACH5B,KAAKS,MAAMzB,KAAKA,GAChBgB,KAAKS,MAAMoB,SACX/C,UAAGgD,iBAAiB,gBAAiB,CACjCC,cADiC,WAE7B,MAAO,CACHC,UAAU,IAGlBC,UANiC,WAO7B,MAAO,CACHC,aAAc,cACdC,eAAgB,kBAGxBC,YAZiC,SAYrBC,GACR,IAAM5B,EAAQT,KAAKS,MACb6B,EAAOD,EAAEC,KACXA,EAAKC,SAAS,UACd9B,EAAM+B,aAAaF,EAAM,UAAU,IAIlCtC,KAAKgC,UACNhC,KAAKyC,mBAGThC,EAAM+B,aAAaF,EAAM,UAAU,KAEvCI,cA1BiC,SA0BnBL,GAENrC,KAAK2C,aAAaN,IAClBI,oBAGRA,iBAhCiC,WAiC7BhC,MAAMmC,eAAe,UAAUC,QAAQ,SAAAtC,GACnCE,MAAM+B,aAAajC,EAAM,UAAU,yCAO/C,OACIuC,EAAAzC,QAAA0C,cAAA,OAAKC,IAAKhD,KAAKO,0BAKZV","file":"2.bundle.js","sourcesContent":["import React, { Component, createRef } from 'react';\r\nimport G6 from '@antv/g6';\r\nimport './index.scss';\r\nconst Util = G6.Util;\r\n\r\nconst data = {\r\n    nodes: [{\r\n        id: 'node1',\r\n        x: 200,\r\n        y: 200,\r\n        shape: 'circle',\r\n        size: 20,\r\n        label: '1号圆',\r\n        labelCfg: {\r\n            position: 'top'\r\n        }\r\n    }, {\r\n        id: 'node2',\r\n        x: 500,\r\n        y: 200,\r\n        shape: 'circle',\r\n        size: 50,\r\n        label: '2号圆',\r\n        labelCfg: {\r\n            position: 'top'\r\n        }\r\n    }],\r\n    edges: [\r\n        {\r\n            id: 'edge1',\r\n            target: 'node2',\r\n            source: 'node1',\r\n            shape: 'custom-edge',\r\n        },\r\n    ]\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass G6DemoOne extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.node = createRef();\r\n        this.graph = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.graph = new G6.Graph({\r\n            container: this.node.current,\r\n            width: 1000,\r\n            height: 500,\r\n            modes: { // 支持的 behavior\r\n                default: ['drag-canvas', {\r\n                    type: 'tooltip',\r\n                    formatText(model) {\r\n                        console.log(model);\r\n                        return model.id + \":\" + model.label\r\n                    }\r\n                }],\r\n                drag: ['drag-node', 'drag-canvas'],\r\n                diy: ['click-select', 'drag-node', 'drag-canvas', 'zoom-canvas'],\r\n                edit: ['drag-node', 'tooltip'],\r\n                test: ['activate-node']\r\n            },\r\n        });\r\n        this.graph.setMode('test');\r\n        this.graph.addBehaviors({\r\n            type: 'drag-canvas',\r\n            direction: 'x'\r\n        }, 'edit');\r\n        this.graph.data(data);\r\n        this.graph.render();\r\n        G6.registerBehavior('activate-node', {\r\n            getDefaultCfg() {\r\n                return {\r\n                    multiple: true\r\n                };\r\n            },\r\n            getEvents() {\r\n                return {\r\n                    'node:click': 'onNodeClick',\r\n                    'canvas:click': 'onCanvasClick'\r\n                };\r\n            },\r\n            onNodeClick(e) {\r\n                const graph = this.graph;\r\n                const item = e.item;\r\n                if (item.hasState('active')) {\r\n                    graph.setItemState(item, 'active', false);\r\n                    return;\r\n                }\r\n                // this 上即可取到配置，如果不允许多个active，先取消其他节点的active状态\r\n                if (!this.multiple) {\r\n                    this.removeNodesState();\r\n                }\r\n                // 置点击的节点状态为active\r\n                graph.setItemState(item, 'active', true);\r\n            },\r\n            onCanvasClick(e) {\r\n                // shouldUpdate可以由用户复写，返回 true 时取消所有节点的active状态\r\n                if (this.shouldUpdate(e)) {\r\n                    removeNodesState();\r\n                }\r\n            },\r\n            removeNodesState() {\r\n                graph.findAllByState('active').forEach(node => {\r\n                    graph.setItemState(node, 'active', false);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={this.node}></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default G6DemoOne;"],"sourceRoot":""}